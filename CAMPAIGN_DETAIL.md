# ğŸ“Š Detalle de CampaÃ±as

## ğŸ¯ Nueva Funcionalidad

Click en cualquier campaÃ±a del listado para ver todos sus detalles, anuncios y creativos expandidos abajo.

---

## ğŸš€ CÃ³mo Usar

### 1. Ir a Tab Pautas
```
[ğŸ“Š Pautas] [ğŸ“… Calendario] [ğŸ—‚ï¸ BÃ³veda]
     â†‘
  Activo
```

### 2. Click en CampaÃ±a
Cualquier campaÃ±a de la lista es ahora **clickeable**.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CampaÃ±a de TrÃ¡fico 2024            â”‚  â† Click aquÃ­
â”‚ TRAFFIC                             â”‚
â”‚ Spend: $80,861  CTR: 0.66%         â”‚
â”‚ [ACTIVE]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Ver Detalle Expandido
Aparece debajo del listado con:
- âœ… **MÃ©tricas completas** de la campaÃ±a
- âœ… **Todos los anuncios** de la campaÃ±a
- âœ… **Creativos** (imagen + copy)
- âœ… **MÃ©tricas por anuncio**

---

## ğŸ“‹ InformaciÃ³n Mostrada

### MÃ©tricas de CampaÃ±a (Grid 6 columnas)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ Spend â”‚Impresionesâ”‚Clicks â”‚ CTR  â”‚ CPC  â”‚ CPM  â”‚
â”‚$80,861â”‚  66,234   â”‚  440  â”‚0.66% â”‚ $184 â”‚$1,221â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

### Lista de Anuncios

Para cada anuncio:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Anuncio - PromociÃ³n Verano        [ACTIVE]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  TÃ­tulo: Verano 2024             â”‚
â”‚ â”‚[IMAGE] â”‚  Copy: Aprovecha descuentos...   â”‚
â”‚ â”‚        â”‚                                   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Spend     Clicks    CTR      CPC             â”‚
â”‚ $12,450   125       1.2%     $99.60          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Elementos:**
- ğŸ–¼ï¸ **Imagen del creativo** (si existe)
- ğŸ“ **TÃ­tulo** del ad
- ğŸ’¬ **Body/copy** del mensaje
- ğŸ“Š **4 mÃ©tricas**: Spend, Clicks, CTR, CPC
- ğŸŸ¢/ğŸŸ¡ **Status badge** (ACTIVE/PAUSED)

---

## ğŸ¨ Visual Design

### Header
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š CampaÃ±a de TrÃ¡fico 2024    [Cerrar âœ•]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Grid de MÃ©tricas
- Responsive: auto-fit, min 150px
- Background: rgba(255,255,255,0.03)
- Border radius: 12px
- Texto centrado

### Ad Cards
- Background hover effect
- Creative image: 100x100px, border-radius 8px
- MÃ©tricas en grid 4 columnas
- Border-top separator

---

## ğŸ”§ Flujo TÃ©cnico

### Frontend

**1. Click en campaÃ±a**
```javascript
showCampaignDetail(campaignId)
  â†’ Mostrar loading
  â†’ Fetch /campaign-detail?campaign_id={id}
  â†’ Renderizar resultado
```

**2. Click de nuevo en misma campaÃ±a**
```javascript
â†’ Cerrar detalle (toggle)
```

**3. Click botÃ³n "Cerrar"**
```javascript
closeCampaignDetail()
  â†’ Limpiar container
  â†’ Reset selectedCampaignId
```

### Backend

**Endpoint:** `GET /campaign-detail?campaign_id={id}`

**Proceso:**
1. Fetch campaign data + insights de Meta API
2. Fetch ads de la campaÃ±a
3. Para cada ad:
   - Obtener creative (title, body, image)
   - Obtener insights (spend, clicks, CTR, CPC)
4. Combinar todo en respuesta

**Meta API Calls:**
```javascript
// Campaign
GET /{campaign_id}?fields=name,objective,status,spend,...

// Campaign insights
GET /{campaign_id}/insights?fields=spend,impressions,clicks,ctr,cpc,cpm

// Ads
GET /{campaign_id}/ads?fields=id,name,status,creative{...},insights{...}
```

**Response:**
```json
{
  "campaign": {
    "id": "123",
    "name": "CampaÃ±a de TrÃ¡fico",
    "objective": "TRAFFIC",
    "status": "ACTIVE",
    "spend": 80861,
    "impressions": 66234,
    "clicks": 440,
    "ctr": 0.66,
    "cpc": 183.77,
    "cpm": 1220.84
  },
  "ads": [
    {
      "id": "456",
      "name": "Anuncio 1",
      "status": "ACTIVE",
      "creative": {
        "title": "TÃ­tulo del ad",
        "body": "Copy del mensaje",
        "image_url": "https://..."
      },
      "spend": 12450,
      "clicks": 125,
      "impressions": 8000,
      "ctr": 1.56,
      "cpc": 99.60
    }
  ],
  "ads_count": 3
}
```

---

## ğŸ“Š Datos Mostrados

### CampaÃ±a
- âœ… Nombre
- âœ… Objetivo (TRAFFIC, CONVERSIONS, etc.)
- âœ… Status (ACTIVE, PAUSED)
- âœ… Spend total
- âœ… Impresiones totales
- âœ… Clicks totales
- âœ… CTR promedio
- âœ… CPC promedio
- âœ… CPM promedio

### Anuncios
- âœ… Nombre del ad
- âœ… Status del ad
- âœ… Creative:
  - TÃ­tulo
  - Body/mensaje
  - Imagen/thumbnail
- âœ… MÃ©tricas:
  - Spend
  - Clicks
  - CTR
  - CPC

---

## ğŸ¯ Casos de Uso

### 1. AuditorÃ­a RÃ¡pida
- Ver quÃ© ads estÃ¡n activos
- Comparar rendimiento entre ads
- Identificar creativos con mejor CTR

### 2. OptimizaciÃ³n
- Pausar ads con bajo rendimiento
- Duplicar ads con alto CTR
- Actualizar copy de underperformers

### 3. Reporte
- Screenshot del detalle completo
- Compartir mÃ©tricas con cliente
- Documentar estado de campaÃ±a

---

## âš ï¸ Limitaciones Actuales

- âŒ No se puede editar desde aquÃ­ (solo vista)
- âŒ No botones de acciÃ³n (pausar/activar ad)
- âš ï¸ Solo muestra primeros N ads (no paginaciÃ³n)

---

## ğŸ”® Mejoras Futuras

- [ ] Botones de acciÃ³n en ads (pause/activate)
- [ ] Editar budget desde detalle
- [ ] GrÃ¡ficos de tendencia temporal
- [ ] ComparaciÃ³n con perÃ­odo anterior
- [ ] Export a PDF/CSV
- [ ] Preview de landing page
- [ ] Historial de cambios
- [ ] A/B test comparisons

---

## ğŸ› Troubleshooting

### No aparece detalle
- **Causa:** Error de API o permisos
- **SoluciÃ³n:** Revisar console (F12) para error especÃ­fico

### Creativos sin imagen
- **Causa:** Ad sin creative o URL invÃ¡lida
- **SoluciÃ³n:** Normal, algunos ads son solo texto

### Loading infinito
- **Causa:** Timeout de Meta API
- **SoluciÃ³n:** Refrescar pÃ¡gina, reintentar

---

## ğŸ“± Responsive

### Desktop
- Grid 6 columnas para mÃ©tricas
- Ad cards con imagen a la izquierda

### Tablet
- Grid 3 columnas para mÃ©tricas
- Ad cards stacked

### Mobile
- Grid 2 columnas para mÃ©tricas
- Creative imagen arriba

---

**Fecha:** 2026-02-25  
**Commit:** `a93ddf5`  
**Endpoint:** `/campaign-detail`  
**Frontend:** `showCampaignDetail()` en `app.js`
